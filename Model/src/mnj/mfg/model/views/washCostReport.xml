<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="washCostReport"
  Version="11.1.1.62.29"
  InheritPersonalization="true"
  BindingStyle="OracleName"
  CustomQuery="true"
  FetchMode="FETCH_AS_NEEDED"
  PageIterMode="Full"
  UseGlueCode="false">
  <DesignTime>
    <Attr Name="_isExpertMode" Value="true"/>
  </DesignTime>
  <Properties>
    <SchemaBasedProperties>
      <LABEL
        ResId="mnj.mfg.model.views.washCostReport_LABEL"/>
    </SchemaBasedProperties>
  </Properties>
  <Variable
    Name="param"
    Kind="where"
    Type="oracle.jbo.domain.Number"/>
  <SQLQuery>
    <![CDATA[/* Formatted on 3/23/2021 6:08:57 PM (QP5 v5.256.13226.35538) */

 SELECT H.POC_ID,
           (SELECT customer_name
            FROM ar_customers ac
           WHERE ac.customer_id = h.buyer_id AND status='A')
            AS buyer_name,        
         h.buyer_id,
         h.season , 
         h.STYLE ,
         h.brand,
          COLOR|| '-' ||WASH_NAME   COLOUR_WASH,
         SUM (QTY) ORDER_QTY,
         AVG (FABRIC_COST) FABRIC_COST,
         AVG (TRIM_COST) TRIM_COST,
         AVG (WASH_COST)WASH_COST,
         --AVG(OTHERS),
         (  SELECT CASE
                      WHEN UPPER (P.REF_CODE) LIKE UPPER ('%pri%')
                      THEN
                         FINAL_COST_PER_PCS
                   END
                      PRINT
              FROM XX_OM_POC_D1_T P
             WHERE     P.ITEM_PREFIX = 55
                   AND P.FOB_ID =  l.FOB_ID
                   AND UPPER (P.REF_CODE) LIKE UPPER ('%pri%')
          ) SERVICE_ITEM_PRINT,
            (  SELECT CASE
                      WHEN UPPER (P.REF_CODE) LIKE UPPER ('%emb%')
                      THEN
                         FINAL_COST_PER_PCS
                   END
                      PRINT
              FROM XX_OM_POC_D1_T P
             WHERE     P.ITEM_PREFIX = 55
                   AND P.FOB_ID =  l.FOB_ID
                   AND UPPER (P.REF_CODE) LIKE UPPER ('%EMB%')
          ) SERVICE_ITEM_EMBROIDERY,
         ROUND (AVG (CM_MERCHAND), 2) CM,
         ROUND (AVG (FOB_WITH_SMS_SAMPLE), 2) fob,
         AVG (SAM) SAM,
         AVG (STYLE_EFFICIENCY) STYLE_EFFICIENCY,
         AVG (PROD_PER_LINE_PER_H) PROD_PER_LINE_PER_H,L.REMARKS
    FROM XX_OM_POC_H_T H, XX_OM_POC_L_T L, XX_OM_BPO_INFO_T B
   WHERE     H.POC_ID = l.POC_ID
         AND B.FOB_ID = L.FOB_ID
        -- AND SEASON = 'C3-21 Fall'
         --AND H.poc_id = 2743
         AND H.GM_APPROVAL = 'Y'
         AND H.VERSION_NO =
                (  SELECT MAX (VERSION_NO)
                     FROM XX_OM_POC_H_T H2
                    WHERE H.POC_ID = H2.
                    POC_ID AND H2.GM_APPROVAL = 'Y'
                 GROUP BY H2.POC_ID)
                 
--                 AND H.SEASON = :P_SEASON
--                 AND H.STYLE = :P_STYLE
 AND 1 = :param
GROUP BY H.POC_ID, 
  h.buyer_id,
         h.season , 
         h.STYLE,
         h.brand,
STYLE, COLOR || '-' ||WASH_NAME ,  L.FOB_ID,
L.REMARKS

ORDER BY POC_ID]]>
  </SQLQuery>
  <ViewAttribute
    Name="PocId"
    IsUpdateable="false"
    IsPersistent="false"
    IsNotNull="true"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="POC_ID"
    Expression="POC_ID"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="BuyerName"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="50"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="BUYER_NAME"
    Expression="BUYER_NAME"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="50"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="BuyerId"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="BUYER_ID"
    Expression="BUYER_ID"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Season"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="500"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="SEASON"
    Expression="SEASON"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="500"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Style"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="100"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="STYLE"
    Expression="STYLE"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="100"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Brand"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="100"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="BRAND"
    Expression="BRAND"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="100"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="ColourWash"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="1001"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="COLOUR_WASH"
    SQLType="VARCHAR"
    Expression="COLOUR_WASH">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="1001"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="OrderQty"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="ORDER_QTY"
    Expression="ORDER_QTY"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="FabricCost"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="FABRIC_COST"
    Expression="FABRIC_COST"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="TrimCost"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="TRIM_COST"
    Expression="TRIM_COST"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="WashCost"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="WASH_COST"
    Expression="WASH_COST"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="ServiceItemPrint"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="SERVICE_ITEM_PRINT"
    Expression="SERVICE_ITEM_PRINT"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="ServiceItemEmbroidery"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="SERVICE_ITEM_EMBROIDERY"
    Expression="SERVICE_ITEM_EMBROIDERY"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Cm"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="CM"
    Expression="CM"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Fob"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="FOB"
    Expression="FOB"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Sam"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="SAM"
    Expression="SAM"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="StyleEfficiency"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="STYLE_EFFICIENCY"
    SQLType="NUMERIC"
    Expression="STYLE_EFFICIENCY">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="ProdPerLinePerH"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="PROD_PER_LINE_PER_H"
    Expression="PROD_PER_LINE_PER_H"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Remarks"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="500"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="REMARKS"
    Expression="REMARKS"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="500"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="StyleNo"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="500"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="STYLE_NO"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="500"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="StyleName"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="250"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="STYLE_NAME"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="250"/>
    </DesignTime>
  </ViewAttribute>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="mnj.mfg.model.ModelBundle"/>
  </ResourceBundle>
</ViewObject>
